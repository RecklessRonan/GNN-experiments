#!/usr/bin/env python
# coding: utf-8

# In[1]:


import json


# In[2]:


datasets = ['chameleon', 'cornell', 'film', 'squirrel', 'texas', 'wisconsin'] #, 'pubmed', 'cora', 'citeseer']


# In[3]:


for d in datasets:
    results = []
    for i in range(10):
        url = 'runs/' + d + '_' + str(i) + '_results.txt'
        # print(url)
        with open(url, 'r') as f:
            s = f.read()
            sub1 = '"test_acc": '
            sub2 = ', "test_duration"'
            result = s[s.index(sub1) + len(sub1): s.index(sub2)]
            results.append(float(result))
    print('dataset: ', d)
    print('all accurray', results)
    print('average accuracy: ', sum(results)/len(results))


# In[4]:


# dataset:  chameleon
# all accurray [0.5986843705177307, 0.6250001192092896, 0.5679826140403748, 0.6008772850036621, 0.6096492409706116, 0.5986843705177307, 0.5635966062545776, 0.5438597798347473, 0.5767545104026794, 0.5964913368225098]
# average accuracy:  0.5881580233573913
# dataset:  cornell
# all accurray [0.5405405163764954, 0.5945945978164673, 0.5675675272941589, 0.5675675272941589, 0.6486486196517944, 0.6216216087341309, 0.6486486196517944, 0.5945945978164673, 0.5675675272941589, 0.5675675272941589]
# average accuracy:  0.5918918669223785
# dataset:  film
# all accurray [0.2986842095851898, 0.2881578803062439, 0.30921053886413574, 0.30263158679008484, 0.29539474844932556, 0.2993420958518982, 0.28223684430122375, 0.2921052575111389, 0.29539474844932556, 0.30723685026168823]
# average accuracy:  0.29703947603702546
# dataset:  squirrel
# all accurray [0.2612871527671814, 0.31988462805747986, 0.3285301625728607, 0.30739662051200867, 0.311239093542099, 0.3362150490283966, 0.3496636748313904, 0.28818434476852417, 0.2747357487678528, 0.3429393768310547]
# average accuracy:  0.31200758516788485
# dataset:  texas
# all accurray [0.5945945978164673, 0.5945945978164673, 0.5135135054588318, 0.6216216087341309, 0.5675675272941589, 0.6486486196517944, 0.5675675272941589, 0.6486486196517944, 0.5675675272941589, 0.6216216087341309]
# average accuracy:  0.5945945739746094
# dataset:  wisconsin
# all accurray [0.5686274766921997, 0.7058823108673096, 0.5686274766921997, 0.4901960492134094, 0.5686274170875549, 0.6274508833885193, 0.7058823704719543, 0.6274509429931641, 0.47058823704719543, 0.5686274170875549]
# average accuracy:  0.5901960581541061

